/* JFS - v1.4.4 - 2020/05/29 */
!function(e,t){"use strict";var a,s,i,n=500,r=500,l="blank.html",o=["search","number","range","color","tel","url","email","month","week","time","date","datetime","datetime-local"],d=["text","password","hidden","search","range","color","tel","url","email","month","week","time"],u=["standard","touch"],c={NoValidate:!1,UseHtml5Required:!1,AutoComplete:!0,IncludeAutoCompleteTrigger:!1,LabelPosition:"above",LabelSuffix:":",LabelRequiredString:"<span class='jfs_required_label'>*</span>",LabelRequiredPrepend:!1,OptionLabelPosition:"right",FieldButtonPosition:"right",IconLabelPosition:"right",InlineOptions:!0,InfoBubbleIcon:"",RepeatableGroupIcons:{},Interface:u[0],ExcludeFormTags:!1,AddZeroedTabIndexes:!0,ResetPageTabIndexes:!1,CustomFields:{},CustomContainers:{},CustomInputOptions:{},Functions:{}},p={item:"i",field_sets:"sets",legend:"lg",fields:"fs",field:"f",key:"k",show:"s",type:"t",label:"l",title:"ttl",disabled:"d",placeholder:"p",autofocus:"a",autocomplete:"c",label_position:"lp",mods:"m",mods_group_fields:"mgf",value:"v",field_value:"fv",options:"os",options_predefined:"osp",inline:"in",option_label_position:"olp",control_btns:"cbts",interactions:"ints",detections:"dets",detect:"det",bool_operator:"bop",values:"vs",actions:"acts",actions_true:"actst",actions_false:"actsf",action:"act",target:"tgt",params:"prms",param:"prm",field_btns:"fbts"},h={root:"jfs",vals:"values"},f={Req:"required",ReqPrepend:"requiredprepend",ReqCustom:"requiredcustom",LabelSuffix:"labelsuffix",AddClass:"addclass",AddDataAttrs:"adddataattributes",Length:"length",Min:"min",Max:"max",Count:"count",Status:"status",AllowChars:"allowchars",PreventChars:"preventchars",CharCounter:"charcounter",WordCounter:"wordcounter",AugmentBtns:"augmentbuttons",AugmentHtml:"augmenthtml",ButtonText:"btn_text",ButtonTitle:"btn_title",ButtonPosition:"btn_position",ButtonIcon:"btn_icon",ButtonIconLabelPosition:"btn_icon_label_position",ButtonFunction:"btn_function",ButtonFunctionParam:"btn_function_param",WidthFillWrap:"widthfillwrap",InfoBub:"infobubble"},m={Container:"jfs_cont",Interface_Prefix:"jfs_int_",Form:"jfs_form",Set:"jfs_set",Pair:"jfs_pair",Label:"jfs_lbl",Field:"jfs_fld",Group:"jfs_grp",KeyPrefix:"jfs_key_",FieldWrap:"jfs_fld_wrap",Btn:"jfs_btn",AugmentBtn:"jfs_aug_btn",AugmentHtml:"jfs_aug_html",AugmentHtmlAbove:"jfs_aug_html_above",AugmentHtmlBelow:"jfs_aug_html_below",AugmentHtmlLabelAbove:"jfs_aug_html_label_above",AugmentHtmlLabelBelow:"jfs_aug_html_label_below",AugmentHtmlFieldAbove:"jfs_aug_html_field_above",AugmentHtmlFieldBelow:"jfs_aug_html_field_below",RadioLabel:"jfs_rdo_lbl",CheckboxLabel:"jfs_cb_lbl",FieldTypePrefix:"jfs_fldtype_",ContainsSetPrefix:"jfs_ctnsset_",ContainsFieldPrefix:"jfs_ctnsfld_",ContainsGroup:"jfs_ctnsgrp",LabelPositionPrefix:"jfs_lblpos_",ContainsHiddenField:"jfs_ctnshidden",ContainsHtmlField:"jfs_ctnshtml",Unshown:"jfs_unshown",HasFocus:"jfs_has_focus",InlineOpt:"jfs_inline_option",BlockOpt:"jfs_block_option",InfoBub:"jfs_infobubble",Date:"jfs_date",DateTime:"jfs_datetime",DateTimeLocal:"jfs_datetime_local",CharCounter:"jfs_charcounter",WordCounter:"jfs_wordcounter",CharCounterText:"jfs_charcounter_text",WordCounterText:"jfs_wordcounter_text",RepGrpSets:"jfs_repgrp_sets",RepGrpBtns:"jfs_repgrp_btns",RepGrpCtrlBtns:"jfs_repgrp_ctrl_btns",RepGrpBtn:"jfs_repgrp_btn",InRepGrp:"jfs_in_repgrp",AutoCompleteTriggerButton:"jfs_trigger_autocomplete"},b={Disabled:'disabled="disabled"',Selected:'selected="selected"',Checked:'checked="checked"',Required:'required="required"',AutoFocus:'autofocus="autofocus"',AutoComplete:"autocomplete",PlaceHolder:"placeholder",MaxLength:"maxlength",Title:"title",DATA_FormKeys:"jfs_formkeys",DATA_FieldName:"jfs_fieldname",DATA_ShowStatus:"jfs_showstatus",DATA_MinLength:"jfs_minlength",DATA_AllowChars:"jfs_allowchars",DATA_PreventChars:"jfs_preventchars",DATA_BtnFunct:"jfs_btn_function",DATA_BtnFunctParam:"jfs_btn_function_param",DATA_DTPicker:"jfs_dtpicker",DATA_RepGrpBtnAddLoc:"jfs_repgrp_btn_addloc"},v={LENGTH_STATUS:"jfs_length_status"},A={Key:"/",Checkbox_Value:"|"},g=!1,F="/";if(e.jQuery){var C;g=!0;var _=document.getElementById("jfs-library-script");if(null!==_)C=_;else{var y=document.getElementsByTagName("script");C=y[y.length-1]}var k=C.getAttribute("src").split("?");F=k[0].split("/").slice(0,-1).join("/")+"/"}else alert("JBU Forms Error: jQuery Library Not Loaded.");var L={Init:function(t,l,o){var h=jQuery.extend(!0,{},o);if(g)if("ContainerId"in h)if(h.Container=jQuery("#"+h.ContainerId),h.Container.length>0){if(h.FieldsInit=Ce(t),h.ValuesKeys=[],h.ValuesUnfilled=[],h.FormIsReady=!1,h.TabPressed=!1,h.ShiftTabPressed=!1,h.RepeatableGroups=function(e){for(var t={},a={},s=0;s<e.length;s++)O(e[s][p.key],e[s],a,t);return{Values:t,Adds:a}}(h.FieldsInit[p.field_sets]),h.PreDefindedOptionsNoEmptyDict=_e(!1),h.PreDefindedOptionsDict=_e(!0),p.options_predefined in h.FieldsInit)for(var F=h.FieldsInit[p.options_predefined],C=0;C<F.length;C++)p.key in F[C]&&p.options in F[C]&&(h.PreDefindedOptionsDict[F[C][p.key]]=F[C][p.options]);for(var _ in h.FieldsCurrent=Ce(h.FieldsInit),p.values in l&&le(h.FieldsCurrent[p.field_sets],l[p.values],"",h),c)_ in h||(h[_]=c[_]);!function(t){for(var n=0;n<u.length;n++)t.Container.removeClass(m.Interface_Prefix+u[n]);for(var l in t.Container.addClass(m.Container).addClass(m.Interface_Prefix+t.Interface).empty().html(function(e){var t=Q(e.FieldsCurrent[p.field_sets],[],!1,e);return e.ExcludeFormTags||(t=J("form","",0,[],[],[],t,e)),t}(t)),t.Form=jQuery("#"+t.ContainerId+" form"),t.Interactions=function(e){var t={Setting:{},OnFocus:{},OnBlur:{},OnKeyUp:{}};if(p.interactions in e.FieldsCurrent)for(var a=e.FieldsCurrent[p.interactions],s=0;s<a.length;s++)for(var i=a[s],n=0;n<i[p.detections].length;n++){var r=i[p.detections][n][p.target];r.split(A.Key),"onfocus"===i[p.detections][n][p.detect]?r in t.OnFocus?t.OnFocus[r].push(i):p.actions in i?t.OnFocus[r]=i[p.actions]:p.actions_true in i&&(t.OnFocus[r]=i[p.actions_true]):"onblur"===i[p.detections][n][p.detect]?r in t.OnBlur?t.OnBlur[r].push(i):p.actions in i?t.OnBlur[r]=i[p.actions]:p.actions_true in i&&(t.OnBlur[r]=i[p.actions_true]):"onkeyup"===i[p.detections][n][p.detect]?r in t.OnKeyUp?t.OnKeyUp[r].push(i):p.actions in i?t.OnKeyUp[r]=i[p.actions]:p.actions_true in i&&(t.OnKeyUp[r]=i[p.actions_true]):r in t.Setting?t.Setting[r].push(i):t.Setting[r]=[i]}return t}(t),D(t.Form,t),function(t){for(var n=[],l=0;l<d.length;l++)n.push("input."+m.Field+"_input[type="+d[l]+"]");s=n.join(", ")+", textarea."+m.Field+"_textarea",i="select."+m.Field+"_select, input."+m.Field+"_input[type=radio], input."+m.Field+"_input[type=checkbox]",t.Form.on("paste",s,function(e){var t=jQuery(this);setTimeout(function(){t.trigger("custompaste",e)},100)}),t.Form.on("keyup custompaste actionchange externalchange focusout",s,function(e){clearTimeout(void 0);var s,i=jQuery(this),n=I(i,t);(i.attr(b.MaxLength)||i.data(b.DATA_MinLength))&&function(e){clearTimeout(a),jQuery("#"+v.LENGTH_STATUS).remove();var t=!1,s=0,i=0,n=9999,r=e.val().length;if(e.data(b.DATA_ShowStatus)){t=!0;var l=e.data(b.DATA_ShowStatus);-1!==l.indexOf("%")&&(s=parseInt(l.replace("%","")))}e.data(b.DATA_MinLength)&&(i=parseInt(e.data(b.DATA_MinLength))),e.is("["+b.MaxLength+"]")&&(n=parseInt(e.attr(b.MaxLength)));var o=r/n*100>s;if(t&&(r<i||o)){var d="<div id='"+v.LENGTH_STATUS+"'><p>";d+="Length: <b>"+r+"</b>";var u=[];i>0&&u.push("MIN: <b>"+i+"</b>"),n<9999&&u.push("MAX: <b>"+n+"</b>"),d+="<br/><span>("+u.join(", ")+")</span>",d+="</p></div>",e.before(d),a=setTimeout(function(){jQuery("#"+v.LENGTH_STATUS).fadeOut(100)},3e3),e.blur(function(){jQuery("#"+v.LENGTH_STATUS).remove(),clearTimeout(a)})}}(i),i.hasClass(m.Field+"_input_number")&&i.val(be(n.DomVal,"0123456789.-",!1)),i.data(b.DATA_AllowChars)&&i.val(be(n.DomVal,i.data(b.DATA_AllowChars),!1)),i.data(b.DATA_PreventChars)&&i.val(function(e,t,a){e+="";var s="";a&&(e=e.replace(/ /g,"_"));for(var i=0;i<e.length;i++)-1===t.toString().indexOf(e.charAt(i))&&(s+=e.charAt(i));return s}(n.DomVal,i.data(b.DATA_PreventChars),!1)),function(e,t,a,s){e.hasClass(m.CharCounter)&&ve(e),e.hasClass(m.WordCounter)&&Ae(e);var i=[];t.FormKey in a.Interactions.Setting&&(i=B(t.FormKey,a)),P(e,t,a,s),H(i,a)}(i,n,t,"actionchange"===(s=e.type)?"action":"externalchange"===s?"external":"user")}),t.Form.on("change actionchange externalchange customoptionsinit",i,function(e){var a=jQuery(this),s=I(a,t),i=[];if(s.FormKey in t.Interactions.Setting&&(i=B(s.FormKey,t)),"radio"===s.FcField[p.type]||"checkbox"===s.FcField[p.type]){var n=s.FormKey.substr(0,s.FormKey.lastIndexOf(A.Key));n in t.Interactions.Setting&&(i=i.concat(B(n,t)))}s.FcField[p.field_value]=s.DomVal;var r=E(t);if(t.FormIsReady){var l="user";"actionchange"===e.type?l="action":"externalchange"===e.type?l="external":"customoptionsinit"===e.type&&(l="customoptionsinit"),"Changed"in t&&t.Changed(a,s.FormKey,s.DomVal,s.FcVal,r.Values,r.Unfilled,t,l)}H(i,t)}),t.Form.on("focus",s+", select."+m.Field+"_select, button."+m.Field+"_button",function(){jQuery(this).parent().parent().parent().addClass(m.HasFocus)}),t.Form.on("blur",s+", select."+m.Field+"_select, button."+m.Field+"_button",function(){jQuery(this).parent().parent().parent().removeClass(m.HasFocus)}),t.Form.on("focus","input."+m.Field+"_input[type=radio], input."+m.Field+"_input[type=checkbox]",function(){jQuery(this).parent().addClass(m.HasFocus),jQuery(this).parent().parent().parent().parent().addClass(m.HasFocus)}),t.Form.on("blur","input."+m.Field+"_input[type=radio], input."+m.Field+"_input[type=checkbox]",function(){jQuery(this).parent().removeClass(m.HasFocus),jQuery(this).parent().parent().parent().parent().removeClass(m.HasFocus)}),t.Form.on("focus",s+", "+i,function(e){var a=jQuery(this),s=I(a,t);s.FormKey in t.Interactions.OnFocus&&H(t.Interactions.OnFocus[s.FormKey],t)}),t.Form.on("blur",s+", "+i,function(e){var a=jQuery(this),s=I(a,t);s.FormKey in t.Interactions.OnBlur&&H(t.Interactions.OnBlur[s.FormKey],t)}),t.Form.on("click","button."+m.Btn+", button."+m.AugmentBtn,function(){var a=jQuery(this),s=a.data(b.DATA_BtnFunct),i=a.data(b.DATA_FormKeys).join(A.Key),n=E(t),r=a.data(b.DATA_BtnFunctParam);try{t.Functions[s](n.Values,n.Unfilled,t,i,r)}catch(t){e.console&&console.log("JFS Error: Unable to run function: "+s,t)}}),t.Form.on("click","button."+m.RepGrpBtn,function(){var a=jQuery(this),s="prepend"===a.data(b.DATA_RepGrpBtnAddLoc);a.hasClass(m.RepGrpBtn+"_add")?function(t,a,s){var i=s.FieldsCurrent[p.field_sets],n=t.data(b.DATA_FormKeys),l=V(n.slice(0),i,!0),o=r;if(p.mods in l){var d=pe(l[p.mods]);if(f.Count in d)try{var u=fe(d[f.Count][p.params]);f.Max in u&&(o=parseInt(u[f.Max]))}catch(t){e.console&&console.log("JFS Error: Error parsing repeatable group min count modifier",n,t)}}if(l[p.field_sets].length<o){for(var c=[n[0]],h=1;h<n.length;h+=2)c.push(n[h]);var m=c.join(A.Key);"RepeatableGroupBeforeChange"in s?s.RepeatableGroupBeforeChange("add",t,m,s,function(){N(n,t,l,m,a,s)}):N(n,t,l,m,a,s)}}(a.parent().parent(),s,t):a.hasClass(m.RepGrpBtn+"_remove")?R(a.parent().parent().parent(),"remove",t):a.hasClass(m.RepGrpBtn+"_up")?R(a.parent().parent().parent(),"up",t):a.hasClass(m.RepGrpBtn+"_down")&&R(a.parent().parent().parent(),"down",t)})}(t),t.Form.find("select").trigger("customoptionsinit"),t.Interactions.Setting)H(B(l,t),t);t.Form.find("input[autofocus]").eq(0).focus(),t.ResetPageTabIndexes&&L.SetTabIndexes();L.Packages[t.ContainerId]=t,t.FormIsReady=!0,"Ready"in t&&t.Ready(E(t).Values,t)}(h)}else alert('JBU Forms Error: A container with id "'+h.ContainerId.toString()+'" could not be found on the page.');else alert("JBU Forms Error: 'ContainerId' must be set.");else!function e(t,a){if(g)L.Init(t,a);else setTimeout(function(){e(t,a)},n)}(t,h)},Packages:{},ParseFormXml:function(e){var t={};return jQuery(jQuery.parseXML(e)).find(h.root).children().each(function(e,a){var s=jQuery(a);t[p[a.nodeName]]=ne(s)}),t},ParseValuesXml:function(e){var t={},a={};return jQuery(jQuery.parseXML(e)).find(h.root+" "+h.vals).children().each(function(e,t){var s=jQuery(t);a[t.nodeName]=re(s)}),t[p[h.vals]]=a,t},PerformFormActions:H,GetPredefinedOptions:_e,ParseSelectOptions:ae,ParseModifiersList:pe,ParseModifierParamsList:fe,GetCurrentValues:E,GetDomField:w,GetCurrentFieldValue:function(e,t){var a=w(e,t);return a.hasClass(m.Unshown)?"":T(a)},TriggerAutoCompleteSubmit:function(e){jQuery("#"+e.ContainerId+" button."+m.AutoCompleteTriggerButton).click()},RegisterExternalChange:function(e){e.trigger("externalchange")},TriggerBlurByFieldKeys:function(e,t){for(var a=[],s=0;s<e.length;s++)a.push({tgt:e[s],act:"setfocusto"}),a.push({tgt:e[s],act:"triggerbluron"});L.PerformFormActions(a,t)},SetTabIndexes:function(e){void 0===e&&(e=":input:not(:hidden)"),jQuery(e).each(function(e){jQuery(this).attr("tabindex",e+1)})}};function D(e,t){e.find("input, select, textarea").each(function(){var e=jQuery(this);if(e.hasClass(m.CharCounter)&&ve(e),e.hasClass(m.WordCounter)&&Ae(e),void 0!==jQuery.ui)if(e.hasClass(m.Date)){var a=e.data(b.DATA_DTPicker);"JfsNoWeekends"in a&&a.JfsNoWeekends&&(a.beforeShowDay=jQuery.datepicker.noWeekends),a.onClose=function(){P(e,I(e,t),t,"user")},e.datepicker(a)}else if(e.hasClass(m.DateTime)||e.hasClass(m.DateTimeLocal)){var s=e.data(b.DATA_DTPicker);"JfsNoWeekends"in s&&s.JfsNoWeekends&&(s.beforeShowDay=jQuery.datepicker.noWeekends),s.addSliderAccess=!0,s.sliderAccessArgs={touchonly:!1},s.onClose=function(){P(e,I(e,t),t,"user")},e.datetimepicker(s)}})}function w(e,t){var a=e.split(A.Key),s=G(a.slice(0),t.FieldsInit[p.field_sets]);return q(a.slice(0),t.Form,s)}function I(e,t){var a=t.FieldsCurrent[p.field_sets],s=e.attr("name"),i=T(e),n=e.data(b.DATA_FormKeys),r=n.join(A.Key),l=V(n.slice(0),a,!1);return{FieldKey:s,DomVal:i,FormKey:r,FcField:l,FcVal:p.field_value in l?l[p.field_value]:""}}function T(e){var t=e.eq(0).attr("type");if("radio"===t){var a=e.eq(0).parent().parent().find("input:checked").val();return void 0===a?"":a}if("checkbox"===t){var s=[];return e.eq(0).parent().parent().find("input:checked").each(function(){s.push(jQuery(this).val())}),s.join(A.Checkbox_Value)}return e.val()}function x(e,t){var a=!1,s=e.eq(0).attr("type");"radio"===s||"checkbox"===s?a=void 0!==e.eq(0).parent().parent().find("input:checked").val():a=!(t&&""===e.val());return a}function j(e,t){for(var a=t.FieldsCurrent[p.field_sets],s={},i=0;i<a.length;i++)a[i][p.key]===e&&(s=a[i]);return s}function P(e,t,a,s){if(t.FcVal!==t.DomVal){t.FcField[p.field_value]=t.DomVal;var i=E(a);a.FormIsReady&&"Changed"in a&&a.Changed(e,t.FormKey,t.DomVal,t.FcVal,i.Values,i.Unfilled,a,s)}}function B(e,t){var a=[];if(e in t.Interactions.Setting)for(var s=t.Interactions.Setting[e],i=0;i<s.length;i++){var n=p.bool_operator in s[i]?s[i][p.bool_operator]:"OR";S(s[i][p.detections],n,t)?p.actions_true in s[i]?a=a.concat(s[i][p.actions_true]):p.actions in s[i]&&(a=a.concat(s[i][p.actions])):p.actions_false in s[i]&&(a=a.concat(s[i][p.actions_false]))}return a}function S(e,t,a){for(var s=!1,i=0,n=0;n<e.length;n++){var r=!1,l=e[n][p.target].split(A.Key),o=G(l.slice(0),a.FieldsInit[p.field_sets]),d=a.FieldsCurrent[p.field_sets],u=j(l[0],a),c=q(l.slice(0),a.Form,o),h=V(l.slice(0),d,!1),f=c.is(":visible"),m=!(p.show in h&&"false"===h[p.show]||p.show in u&&"false"===u[p.show]),b=!1;switch(e[n][p.detect]){case"onshow":b=!0,!m&&f&&(r=!0);break;case"onhide":b=!0,m&&!f&&(r=!0)}if(!b){var v=p.param in e[n]?e[n][p.param]:"";if(o){var g=V(l.slice(0),d,!0)[p.field_sets].length;switch(e[n][p.detect]){case"groupitemcountis":g===parseInt(v,10)&&(r=!0);break;case"groupitemcountlessthan":g<parseInt(v,10)&&(r=!0);break;case"groupitemcountgreaterthan":g>parseInt(v,10)&&(r=!0)}}else{var F=T(c),C=h[p.field_value];switch(e[n][p.detect]){case"isshown":f&&(r=!0);break;case"ishidden":f||(r=!0);break;case"hasvalue":x(c,!1)&&(r=!0);break;case"hasvaluenotempty":x(c,!0)&&(r=!0);break;case"hasnovalue":x(c,!1)||(r=!0);break;case"hasnovalueorempty":x(c,!0)||(r=!0);break;case"onchange":F!==C&&(r=!0);break;case"onchangenotempty":""!==F&&null!==F&&(r=!0);break;case"valueis":F===v&&(r=!0);break;case"valueisnot":F!==v&&(r=!0);break;case"valuelessthan":parseInt(F,10)<parseInt(v,10)&&(r=!0);break;case"valuegreaterthan":parseInt(F,10)>parseInt(v,10)&&(r=!0);break;case"checkboxvaluecontains":-1!==F.split(A.Checkbox_Value).indexOf(v)&&(r=!0);break;case"checkboxvaluedoesnotcontain":-1===F.split(A.Checkbox_Value).indexOf(v)&&(r=!0);break;case"checkboxvaluesumis":for(var _=F.split(A.Checkbox_Value),y=0,k=0;k<_.length;k++)y+=isNaN(parseInt(_[k],10))?0:parseInt(_[k],10);y===parseInt(v,10)&&(r=!0);break;case"checkboxvaluesumgreaterthan":for(var L=F.split(A.Checkbox_Value),D=0,w=0;w<L.length;w++)D+=isNaN(parseInt(L[w],10))?0:parseInt(L[w],10);D>parseInt(v,10)&&(r=!0);break;case"checkboxvaluesumlessthan":for(var I=F.split(A.Checkbox_Value),P=0,B=0;B<I.length;B++)P+=isNaN(parseInt(I[B],10))?0:parseInt(I[B],10);P<parseInt(v,10)&&(r=!0)}}}r&&i++}return"OR"===t&&i>0?s=!0:"AND"===t&&i===e.length?s=!0:"XOR"===t&&i%2!=0?s=!0:-1!==t.indexOf(">")&&!isNaN(parseInt(t.substring(1),10))&&i>parseInt(t.substring(1),10)?s=!0:-1!==t.indexOf("<")&&!isNaN(parseInt(t.substring(1),10))&&i<parseInt(t.substring(1),10)?s=!0:-1===t.indexOf("=")||isNaN(parseInt(t.substring(1),10))||i!==parseInt(t.substring(1),10)||(s=!0),s}function H(t,a){for(var s=a.FieldsCurrent[p.field_sets],i=0;i<t.length;i++){var n=t[i][p.target],r=t[i][p.action],l=p.param in t[i]?t[i][p.param]:"";if("showset"===r||"hideset"===r){var o=j(n,a),d=U(n,a);"showset"===r?(d.removeClass(m.Unshown),o[p.show]="true"):(d.hasClass(m.Unshown)||d.addClass(m.Unshown),o[p.show]="false")}else if("runfunction"===r)try{var u=E(a);a.Functions[n](u.Values,u.Unfilled,a,l)}catch(x){e.console&&console.log("JFS Error: Unable to run function.",n,x)}else try{var c=n.split(A.Key),h=G(c.slice(0),a.FieldsInit[p.field_sets]),f=q(c.slice(0),a.Form,!0),b=q(c.slice(0),a.Form,h),v=V(c.slice(0),s,h);switch(r){case"disablefield":var g=c[c.length-1],F=parseInt(g),C=!isNaN(F),_=b.attr("type");if("select"!==_||b.hasClass(m.KeyPrefix+g)){if(b.prop("disabled",!0),"radio"===_||"checkbox"===_)for(var y=0;y<v[p.options].length;y++)(!C||C&&y===F)&&(v[p.options][y][p.disabled]="true");else v[p.disabled]="true";b.trigger("actionchange")}else{var k=b.find("option");k.length>F&&(k.eq(F).prop("disabled",!0),v[p.options][F][p.disabled]="true",b.trigger("actionchange"))}break;case"enablefield":var L=c[c.length-1],D=parseInt(L),w=!isNaN(D),I=b.attr("type");if("select"!==I||b.hasClass(m.KeyPrefix+L)){if(b.prop("disabled",!1),"radio"===I||"checkbox"===I)for(var x=0;x<v[p.options].length;x++)(!w||w&&x===D)&&(v[p.options][x][p.disabled]="false");else v[p.disabled]="false";b.trigger("actionchange")}else{var P=b.find("option");P.length>D&&(P.eq(D).prop("disabled",!1),v[p.options][D][p.disabled]="false",b.trigger("actionchange"))}break;case"setaugmenthtmlaboveto":f.find("div."+m.AugmentHtmlAbove).remove(),f.prepend("<div class='"+m.AugmentHtml+" "+m.AugmentHtmlAbove+"'>"+l+"</div>");break;case"setaugmenthtmlbelowto":f.find("div."+m.AugmentHtmlBelow).remove(),f.append("<div class='"+m.AugmentHtml+" "+m.AugmentHtmlBelow+"'>"+l+"</div>");break;case"setaugmenthtmllabelaboveto":f.find("div."+m.AugmentHtmlLabelAbove).remove(),f.children("div."+m.Label).prepend("<div class='"+m.AugmentHtml+" "+m.AugmentHtmlLabelAbove+"'>"+l+"</div>");break;case"setaugmenthtmllabelbelowto":f.find("div."+m.AugmentHtmlLabelBelow).remove(),f.children("div."+m.Label).append("<div class='"+m.AugmentHtml+" "+m.AugmentHtmlLabelBelow+"'>"+l+"</div>");break;case"setaugmenthtmlfieldaboveto":f.find("div."+m.AugmentHtmlFieldAbove).remove(),b.prepend("<div class='"+m.AugmentHtml+" "+m.AugmentHtmlFieldAbove+"'>"+l+"</div>");break;case"setaugmenthtmlfieldbelowto":f.find("div."+m.AugmentHtmlFieldBelow).remove(),b.append("<div class='"+m.AugmentHtml+" "+m.AugmentHtmlFieldBelow+"'>"+l+"</div>");break;case"removeaugmenthtmlabove":f.find("div."+m.AugmentHtmlAbove).remove();break;case"removeaugmenthtmlbelow":f.find("div."+m.AugmentHtmlBelow).remove();break;case"removeaugmenthtmllabelabove":f.find("div."+m.AugmentHtmlLabelAbove).remove();break;case"removeaugmenthtmllabelbelow":f.find("div."+m.AugmentHtmlLabelBelow).remove();break;case"removeaugmenthtmlfieldabove":f.find("div."+m.AugmentHtmlFieldAbove).remove();break;case"removeaugmenthtmlfieldbelow":f.find("div."+m.AugmentHtmlFieldBelow).remove();break;case"setfieldvalueto":if(f.hasClass(m.ContainsHtmlField))f.children("."+m.Field).html(l);else if("radio"===v[p.type]||"checkbox"===v[p.type]){var B=l.split(A.Checkbox_Value);b.each(function(){var e=jQuery(this);-1!==B.indexOf(e.attr("value"))?e.prop("checked",!0):e.prop("checked",!1),e.trigger("actionchange")})}else"button"===v[p.type]?b.html(l).trigger("actionchange"):b.val(l).trigger("actionchange");break;case"copyfieldvaluefrom":var S=l.split(A.Key),H=G(S.slice(0),a.FieldsInit[p.field_sets]),O=q(S.slice(0),a.Form,H),N=(V(S.slice(0),s,H),T(O));if(f.hasClass(m.ContainsHtmlField))f.children("."+m.Field).html(N);else if("radio"===v[p.type]||"checkbox"===v[p.type]){var R=N.split(A.Checkbox_Value);b.each(function(){var e=jQuery(this);-1!==R.indexOf(e.attr("value"))?e.prop("checked",!0):e.prop("checked",!1),e.trigger("actionchange")})}else"button"===v[p.type]?b.html(N).trigger("actionchange"):b.val(N).trigger("actionchange");break;case"settochecked":"radio"!==b.attr("type")&&"checkbox"!==b.attr("type")||(b.prop("checked",!0),b.trigger("actionchange"));break;case"settounchecked":"radio"!==b.attr("type")&&"checkbox"!==b.attr("type")||(b.prop("checked",!1),b.trigger("actionchange"));break;case"checkall":b.length>0&&b.prop("checked",!0).trigger("actionchange");break;case"uncheckall":b.length>0&&b.prop("checked",!1).trigger("actionchange");break;case"updatefieldoptions":var W=[];try{l in a.CustomInputOptions?W=a.CustomInputOptions[l](E(a).Values,a):l in a.PreDefindedOptionsDict&&(W=a.PreDefindedOptionsDict[l])}catch(x){e.console&&console.log("JFS Error: Unable to parse custom input options: ",a.CustomInputOptions,x)}v[p.options]=Ce(W),b.html(ae(W,"")).trigger("actionchange");break;case"removeselectoption":var K=c[c.length-1];if("select"===b.attr("type")&&!b.hasClass(m.KeyPrefix+K)){var M=parseInt(K),Q=b.children("option");Q.length>M&&(Q.eq(M).remove(),delete v[p.options][M],b.trigger("actionchange"))}break;case"setlabelto":f.find("div."+m.Label+" label, div."+m.Label+" legend").html(l);break;case"prependlabelwith":f.find("div."+m.Label+" label, div."+m.Label+" legend").prepend(l);break;case"appendlabelwith":f.find("div."+m.Label+" label, div."+m.Label+" legend").append(l);break;case"addclasstopair":f.addClass(l);break;case"removeclassfrompair":f.removeClass(l);break;case"togglepairclass":f.toggleClass(l);break;case"addclasstolabelcont":f.children("div."+m.Label).addClass(l);break;case"removeclassfromlabelcont":f.children("div."+m.Label).removeClass(l);break;case"togglelabelcontclass":f.children("div."+m.Label).toggleClass(l);break;case"addclasstolabel":f.children("div."+m.Label).children("label, legend").addClass(l);break;case"removeclassfromlabel":f.children("div."+m.Label).children("label, legend").removeClass(l);break;case"togglelabelclass":f.children("div."+m.Label).children("label, legend").toggleClass(l);break;case"addclasstofieldcont":f.children("div."+m.Field).addClass(l);break;case"removeclassfromfieldcont":f.children("div."+m.Field).removeClass(l);break;case"togglefieldcontclass":f.children("div."+m.Field).toggleClass(l);break;case"addclasstofield":b.addClass(l);break;case"removeclassfromfield":b.removeClass(l);break;case"togglefieldclass":b.toggleClass(l);break;case"removeelementwithselector":f.find(l).remove();break;case"showfield":f.removeClass(m.Unshown),b.trigger("actionchange"),v[p.show]="true";break;case"hidefield":f.hasClass(m.Unshown)||f.addClass(m.Unshown),b.trigger("actionchange"),v[p.show]="false";break;case"scrollto":jQuery("html, body").animate({scrollTop:f.offset().top},"fast");break;case"setfocusto":b.focus();break;case"triggerbluron":b.blur()}}catch(t){e.console&&console.log(t)}}}function O(e,t,a,s){if(p.fields in t)for(var i=t[p.fields],n=0;n<i.length;n++){var r=i[n];if(p.field_sets in r){var l=e+"/"+r[p.key];if(p.control_btns in r)for(var o=r[p.control_btns],d=0;d<o.length;d++)if(p.key in o[d]){var u=o[d];if("add"===u[p.key]&&p.params in u)for(var c=u[p.params],h=0;h<c.length;h++)if("values"===c[h][p.key]&&p.param in c[h]){var f=c[h][p.param][0];void 0!==f&&(s[l]=f)}}a[l]=r[p.field_sets][0],O(l,r[p.field_sets][0],a,s)}}}function N(e,t,a,s,i,n){var r={};s in n.RepeatableGroups.Adds&&(r=Ce(n.RepeatableGroups.Adds[s]));var l=[r],o={};s in n.RepeatableGroups.Values&&(o=Ce(n.RepeatableGroups.Values[s])),le(l,Ce([o]),e.join(A.Key),n),i?a[p.field_sets].unshift(l[0]):a[p.field_sets].push(l[0]);for(var d=0;d<a[p.field_sets].length;d++)a[p.field_sets][d][p.key]=d.toString();t.children("."+m.RepGrpSets).empty().html(Q(a,e,!0,n)),D(t,n);var u=e.join(A.Key);K(["ongroupitemadd"],e,n);var c=B(u,n);for(var h in n.Interactions.Setting)0===h.indexOf(u)&&(c=c.concat(B(h,n)));var f=E(n);"Changed"in n&&n.Changed(t,s,null,null,f.Values,null,n,"usergroupitemadd"),H(c,n)}function R(t,a,s){var i=t.parent().parent(),n=s.FieldsCurrent[p.field_sets],r=i.data(b.DATA_FormKeys),l=V(r.slice(0),n,!0),o=t.index(),d=[],u=!0;switch(a){case"remove":var c=0;if(p.mods in l){var h=pe(l[p.mods]);if(f.Count in h)try{var m=fe(h[f.Count][p.params]);f.Min in m&&(c=parseInt(m[f.Min]))}catch(t){e.console&&console.log("JFS Error: Error parsing repeatable group min count modifier",r,t)}}l[p.field_sets].length>c?(l[p.field_sets].splice(o,1),d.push("ongroupitemremove")):u=!1;break;case"up":var v=o-1;v>-1&&(M(l[p.field_sets],o,v),d.push("ongroupitemmove","ongroupitemmoveup"));break;case"down":var g=o+1;g<l[p.field_sets].length&&(M(l[p.field_sets],o,g),d.push("ongroupitemmove","ongroupitemmovedown"))}if(u){var F=r.join(A.Key)+A.Key+o.toString();"RepeatableGroupBeforeChange"in s?s.RepeatableGroupBeforeChange(a,i,F,s,function(){W(r,i,l,F,d,a,s)}):W(r,i,l,F,d,a,s)}}function W(e,t,a,s,i,n,r){for(var l=0;l<a[p.field_sets].length;l++)a[p.field_sets][l][p.key]=l+"";t.find("input, select, textarea").each(function(){var e=jQuery(this);void 0!==jQuery.ui&&(e.hasClass(m.Date)||e.hasClass(m.DateTime)||e.hasClass(m.DateTimeLocal))&&e.datepicker("destroy")}),t.children("."+m.RepGrpSets).empty().html(Q(a,e,!0,r)),D(t,r),K(i,e,r);var o=B(e.join(A.Key),r),d=E(r);"Changed"in r&&r.Changed(t,s,null,null,d.Values,null,r,"usergroupitem"+n),H(o,r)}function K(e,t,a){var s=t.join(A.Key),i=a.Interactions.Setting;if(s in i)for(var n=0;n<i[s].length;n++){for(var r=!1,l=i[s][n][p.detections],o=(i[s][n][p.actions],0);o<l.length;o++)-1!==e.indexOf(l[o][p.detect])&&(r=!0);r?p.actions in i[s][n]?H(i[s][n][p.actions],a):p.actions_true in i[s][n]&&H(i[s][n][p.actions_true],a):p.actions_false in i[s][n]&&H(i[s][n][p.actions_false],a)}}function E(e){var t={};t[p.values]={},e.ValuesKeys=[],e.ValuesUnfilled=[];for(var a=function e(t,a,s){var i=[];for(var n=0;n<t.length;n++){s.ValuesKeys[a]=t[n][p.key];for(var r=t[n][p.fields],l={},o=0;o<r.length;o++){var d=r[o];if(!("button"===d[p.type]||"html"===d[p.type]||p.show in d&&"false"===d[p.show]||p.show in t[n]&&"false"===t[n][p.show]))if(p.field_sets in d)s.ValuesKeys[a+1]=d[p.key],l[d[p.key]]=e(d[p.field_sets],a+2,s);else{var u=p.field_value in d?d[p.field_value]:"";if(l[d[p.key]]=u,p.mods in d){var c=pe(d[p.mods]);if(f.Req in c&&""===u){var h=s.ValuesKeys.slice(0,a+1);h.push(d[p.key]);var m=h.join(A.Key),b={};b[p.key]=m,b[p.param]='Sorry, the required field, "'+d[p.label]+'", appears to be unfilled.',p.param in c[f.Req]&&(b[p.param]=c[f.Req][p.param]),s.ValuesUnfilled.push(b)}}}}i.push(l)}return i}(e.FieldsCurrent[p.field_sets],0,e),s=0;s<a.length;s++)jQuery.isEmptyObject(a[s])||(t[p.values][e.FieldsCurrent[p.field_sets][s][p.key]]=a[s]);return{Values:t,Unfilled:e.ValuesUnfilled}}function M(e,t,a){e.splice(a,0,e.splice(t,1)[0])}function V(e,t,a){var s=t[0];if(t.length>1)for(var i=0;i<t.length;i++)t[i][p.key]===e[0]&&(s=t[i]);var n=s[p.fields],r=n[0];if(n.length>1)for(var l=0;l<n.length;l++)n[l][p.key]===e[1]&&(r=n[l]);return p.field_sets in r?(e.shift(),e.shift(),a&&0===e.length?r:r[p.field_sets].length<1?{}:V(e,r[p.field_sets],a)):r[p.key]===e[1]?r:{}}function G(e,t){var a=t[0];if(t.length>1)for(var s=0;s<t.length;s++)t[s][p.key]===e[0]&&(a=t[s]);var i=a[p.fields],n=i[0];if(i.length>1)for(var r=0;r<i.length;r++)i[r][p.key]===e[1]&&(n=i[r]);return e.length<=3?"repeatablegroup"===n[p.type]:(e.shift(),e.shift(),e[0]="0",G(e,n[p.field_sets]))}function q(e,t,a){var s=t;if(t.hasClass(m.Form))s=t.children("."+m.KeyPrefix+e[0]);else if(t.hasClass(m.Set)){var i=t.children("fieldset").children("."+m.ContainsFieldPrefix+e[0]);i.hasClass(m.ContainsGroup)?(s=a&&1===e.length?i:i.children("div."+m.Group).children("div."+m.RepGrpSets).children("."+m.KeyPrefix+e[1]),e.shift()):s=a?i:i.find("[data-"+b.DATA_FieldName+'="'+e[0]+'"]')}else t.length>1&&(s=s.eq(e[0]));return e.length<=1?s:(e.shift(),q(e,s,a))}function U(e,t){return jQuery("#"+t.ContainerId+" form > div."+m.ContainsSetPrefix+e)}function Q(e,t,a,s){var i="",n=e;a&&(n=e[p.field_sets]);for(var r=0;r<n.length;r++){var l=n[r],o=r+"";p.key in l&&(o=l[p.key]);var d=[];d.push(m.KeyPrefix+o);var u=[],c={};p.mods in l&&(c=pe(l[p.mods])),f.AddClass in c&&d.push(c[f.AddClass][p.param]),f.AddDataAttrs in c&&p.params in c[f.AddDataAttrs]&&(u=me(c[f.AddDataAttrs][p.params]));var h="";if(p.show in l&&"false"===l[p.show]&&d.push(m.Unshown),p.fields in l){var b={};if(p.mods_group_fields in e)for(var v=e[p.mods_group_fields],A=0;A<v.length;A++)p.key in v[A]&&p.mods in v[A]&&(b[v[A][p.key]]=v[A][p.mods]);for(var g=l[p.fields],F=0;F<g.length;F++){if(a){var C=r+"/"+g[F][p.key];C in b&&(p.mods in g[F]?g[F][p.mods]=he(g[F][p.mods].slice(0),b[C]):g[F][p.mods]=b[C])}h+=Y(g[F],t,o,a,s)}}i+=J(a?"repgrpset":"set",a?e:l,r,d,u,[],h,s)}return i}function J(e,t,a,s,i,n,r,o){if(s.push(m.Container),e in o.CustomContainers)r=o.CustomContainers[e](s,r,o);else switch(e){case"form":if(s.push(m.Form),p.mods in o.FieldsInit){var d=pe(o.FieldsInit[p.mods]);if(f.AddClass in d&&p.param in d[f.AddClass]&&""!==d[f.AddClass][p.param])for(var u=d[f.AddClass][p.param].split(" "),c=0;c<u.length;c++)s.push(u[c]);f.AddDataAttrs in d&&p.params in d[f.AddDataAttrs]&&(i=me(d[f.AddDataAttrs][p.params]))}i.push(ue("class",s.join(" "))),i.push(ue("autocomplete",o.AutoComplete?"on":"off")),o.NoValidate&&i.push(ue("novalidate","novalidate")),o.IncludeAutoCompleteTrigger&&(i.push(ue("method","GET")),i.push(ue("action",F+l)),i.push(ue("target","jfs_trigger_browser_autocomplete_iframe"))),r="<form "+i.join(" ")+">"+r,o.IncludeAutoCompleteTrigger?(r+="<button class='"+m.AutoCompleteTriggerButton+"' type='submit' style='display: none'></button></form>",r+="<iframe id='jfs_trigger_browser_autocomplete_iframe' name='jfs_trigger_browser_autocomplete_iframe' style='display: none' src='"+F+l+"'></iframe>"):r+="</form>";break;case"set":if(s.push(m.Set),s.push(m.ContainsSetPrefix+t[p.key]),p.mods in t){var h=pe(t[p.mods]);if(f.AddClass in h&&p.param in h[f.AddClass]&&""!==h[f.AddClass][p.param])for(var b=h[f.AddClass][p.param].split(" "),v=0;v<b.length;v++)s.push(b[v])}i.push(ue("class",s.join(" ")));var A="<div "+i.join(" ")+"><fieldset>";p.legend in t&&(A+="<legend>"+t[p.legend]+"</legend>");r=A+r+"</fieldset></div>";break;case"repgrpset":s.push(m.Set),i.push(ue("class",s.join(" ")));var g=t[p.field_sets][a],C=Z(t,!1,o),_="<div "+i.join(" ")+"><fieldset>";p.legend in g&&(_+="<legend>"+g[p.legend]+" ("+parseInt(a+1)+")</legend>"),""!==C.above&&(_+='<div class="'+m.RepGrpCtrlBtns+" "+m.RepGrpCtrlBtns+'_above">'+C.above+"</div>"),_+=r,""!==C.below&&(_+='<div class="'+m.RepGrpCtrlBtns+" "+m.RepGrpCtrlBtns+'_below">'+C.below+"</div>"),r=_+="</fieldset></div>";break;case"pair":s.push(m.Pair),i.push(ue("class",s.join(" ")));var y="radio"===t[p.type]||"checkbox"===t[p.type],k=X(pe(p.mods in t?t[p.mods]:[])),L="<div "+i.join(" ")+">";""!==k.above&&(L+="<div class='"+m.AugmentHtml+" "+m.AugmentHtmlAbove+"'>"+k.above+"</div>"),y&&(L+="<fieldset "+n.join(" ")+">"),L+=r,y&&(L+="</fieldset>"),""!==k.below&&(L+="<div class='"+m.AugmentHtml+" "+m.AugmentHtmlBelow+"'>"+k.below+"</div>"),r=L+="</div>";break;case"group":s.push(m.Group),i.push(ue("class",s.join(" ")));var D=Z(t,!0,o),w="<div "+i.join(" ")+">";""!==D.above&&(w+='<div class="'+m.RepGrpBtns+" "+m.RepGrpBtns+'_above">'+D.above+"</div>"),w+='<div class="'+m.RepGrpSets+'">'+r+"</div>",""!==D.below&&(w+='<div class="'+m.RepGrpBtns+" "+m.RepGrpBtns+'_below">'+D.below+"</div>"),r=w+="</div>";break;case"label":s.push(m.Label),i.push(ue("class",s.join(" ")));var I=X(pe(p.mods in t?t[p.mods]:[])),T="<div "+i.join(" ")+">";""!==I.label_above&&(T+="<div class='"+m.AugmentHtml+" "+m.AugmentHtmlLabelAbove+"'>"+I.label_above+"</div>"),T+=r,""!==I.label_below&&(T+="<div class='"+m.AugmentHtml+" "+m.AugmentHtmlLabelBelow+"'>"+I.label_below+"</div>"),r=T+="</div>";break;case"field":s.push(m.Field),i.push(ue("class",s.join(" ")));var x=X(pe(p.mods in t?t[p.mods]:[])),j="<div "+i.join(" ")+">";""!==x.field_above&&(j+="<div class='"+m.AugmentHtml+" "+m.AugmentHtmlFieldAbove+"'>"+x.field_above+"</div>"),j+=r,""!==x.field_below&&(j+="<div class='"+m.AugmentHtml+" "+m.AugmentHtmlFieldBelow+"'>"+x.field_below+"</div>"),r=j+="</div>"}return r}function Y(t,a,s,i,n){var r="";if(p.key in t&&p.type in t){var l,d=!0,u=[],c=[],h=[];u.push(m.KeyPrefix+t[p.key]),h.push(m.KeyPrefix+t[p.key]),c.push(m.FieldTypePrefix+t[p.type]),c.push(m.ContainsFieldPrefix+t[p.key]),i&&u.push(m.InRepGrp);var v=[],g={};p.mods in t&&(g=pe(t[p.mods]));var F="";(f.Req in g||f.ReqCustom in g)&&(F=n.LabelRequiredString),f.AddClass in g&&p.param in g[f.AddClass]&&c.push(g[f.AddClass][p.param]),f.AddDataAttrs in g&&p.params in g[f.AddDataAttrs]&&(v=me(g[f.AddDataAttrs][p.params]));var C=n.LabelPosition;p.label_position in t&&(C=t[p.label_position]),u.push(m.LabelPositionPrefix+C),h.push(m.LabelPositionPrefix+C);var _=a.slice(0);if(_.push(s,t[p.key]),t[p.type]in n.CustomFields)l=n.CustomFields[t[p.type]](t,u,g,n);else switch(t[p.type]){case"text":l=z(t,u,g,_,n);break;case"textarea":l=function(e,t,a,s,i){var n={FieldCont:"field",FieldAttrs:[],FieldClassList:t,WidthFill:!0,Html:"",FieldContClassList:[],LabelContClassList:[],PairContClassList:[]},r="";n.FieldAttrs.push(ue("id",de(s,i))),n.FieldAttrs.push(ue("name",e[p.key])),n.FieldAttrs.push(ce(b.DATA_FieldName,e[p.key])),n.FieldAttrs.push(ue("type","textarea")),n.FieldAttrs.push(ce(b.DATA_FormKeys,s)),p.title in e&&n.FieldAttrs.push(ue(b.Title,e[p.title]));p.disabled in e&&"true"===e[p.disabled]&&n.FieldAttrs.push(b.Disabled);p.placeholder in e&&n.FieldAttrs.push(ue(b.PlaceHolder,e[p.placeholder]));p.autofocus in e&&n.FieldAttrs.push(b.AutoFocus);i.UseHtml5Required&&f.Req in a&&n.FieldAttrs.push(b.Required);p.field_value in e&&(r=e[p.field_value]);var l=[f.AddClass,f.AddDataAttrs,f.WidthFillWrap,f.Length,f.AllowChars,f.PreventChars,f.CharCounter,f.WordCounter];n=ee(l,a,n);var o=ie(s,a,!0,i);return n.Html+=o.above+o.left+o.right+te("textarea",i,n.FieldClassList,n.FieldAttrs,n.WidthFill,r)+o.below,n}(t,u,g,_,n);break;case"select":l=function(e,t,a,s,i){var n={FieldCont:"field",FieldAttrs:[],FieldClassList:t,WidthFill:!0,Html:"",FieldContClassList:[],LabelContClassList:[],PairContClassList:[]},r="";n.FieldAttrs.push(ue("id",de(s,i))),n.FieldAttrs.push(ue("name",e[p.key])),n.FieldAttrs.push(ce(b.DATA_FieldName,e[p.key])),n.FieldAttrs.push(ue("type","select")),n.FieldAttrs.push(ce(b.DATA_FormKeys,s)),p.title in e&&n.FieldAttrs.push(ue(b.Title,e[p.title]));p.disabled in e&&"true"===e[p.disabled]&&n.FieldAttrs.push(b.Disabled);p.autofocus in e&&n.FieldAttrs.push(b.AutoFocus);i.UseHtml5Required&&f.Req in a&&n.FieldAttrs.push(b.Required);p.field_value in e&&(r=e[p.field_value]);var l=[f.AddClass,f.AddDataAttrs,f.WidthFillWrap];n=ee(l,a,n);var o="";if(p.options in e){var d=e[p.options];"string"==typeof d?d in i.CustomInputOptions?o=ae(i.CustomInputOptions[d](E(i).Values,i),r):d in i.PreDefindedOptionsDict&&(o=ae(i.PreDefindedOptionsDict[d],r)):o=ae(d,r)}else if(p.options_predefined in e){var u=e[p.options_predefined];u in i.CustomInputOptions?o=ae(i.CustomInputOptions[u](E(i).Values,i),r):u in i.PreDefindedOptionsDict&&(o=ae(i.PreDefindedOptionsDict[u],r))}var c=ie(s,a,!0,i);return n.Html+=c.above+c.left+c.right+te("select",i,n.FieldClassList,n.FieldAttrs,n.WidthFill,o)+c.below,n}(t,u,g,_,n);break;case"radio":l=function(e,t,a,s,i){var n={FieldCont:"field",FieldAttrs:[],FieldClassList:t,WidthFill:!1,Html:"",FieldContClassList:[],LabelContClassList:[],PairContClassList:[],FieldsetAttrs:[]},r="",l=de(s,i);n.FieldAttrs.push(ue("type","radio")),p.title in e&&n.FieldsetAttrs.push(ue(b.Title,e[p.title]));p.autofocus in e&&n.FieldAttrs.push(b.AutoFocus);p.field_value in e&&(r=e[p.field_value]);n.FieldContClassList.push(m.Field+"_radio");var o=p.disabled in e&&"true"===e[p.disabled],d=[f.AddClass,f.AddDataAttrs,f.WidthFillWrap];n=ee(d,a,n);var u=i.InlineOptions;p.inline in e&&(u="true"===e[p.inline]);var c=i.OptionLabelPosition;p.option_label_position in e&&(c=e[p.option_label_position]);var h=[];if(p.options in e)"string"==typeof(h=e[p.options])&&(h in i.CustomInputOptions?h=i.CustomInputOptions[h](E(i).Values,i):h in i.PreDefindedOptionsNoEmptyDict&&(h=i.PreDefindedOptionsNoEmptyDict[h]));else if(p.options_predefined in e){var v=e[p.options_predefined];v in i.CustomInputOptions?h=i.CustomInputOptions[v](E(i).Values,i):v in i.PreDefindedOptionsNoEmptyDict&&(h=i.PreDefindedOptionsNoEmptyDict[v])}for(var A=0;A<h.length;A++){var g=h[A],F=[],C={above:"",right:"",below:"",left:""};C[c]="<span>"+g[p.label]+"</span>",F.push(m.RadioLabel),F.push(m.RadioLabel+"_"+c);var _=n.FieldAttrs.slice(0),y=s.slice(0),k=s.slice(0);y.push(A),k.push(A);var L={};p.mods in g&&(L=pe(g[p.mods])),f.AddClass in L&&p.param in L[f.AddClass]&&F.push(L[f.AddClass][p.param]),f.AddDataAttrs in L&&p.params in L[f.AddDataAttrs]&&(_=_.concat(me(L[f.AddDataAttrs][p.params]))),u?F.push(m.InlineOpt):F.push(m.BlockOpt);var D=s.slice(1),w=D.length>1?D[D.length-2]+"_"+e[p.key]:e[p.key];_.push(ce(b.DATA_FormKeys,k)),_.push(ce(b.DATA_FieldName,e[p.key])),_.push(ue("id",l+"_"+parseInt(A+1))),_.push(ue("name",w)),_.push(ue("value",g[p.value]));var I=o;p.disabled in g&&(I="true"===g[p.disabled]),I&&_.push(b.Disabled),i.UseHtml5Required&&f.Req in a&&_.push(b.Required),g[p.value]===r&&_.push(b.Checked),n.Html+="<label "+ue("class",F.join(" "))+">",n.Html+=C.left+C.above+te("input",i,n.FieldClassList.slice(0),_,n.WidthFill)+C.right+C.below,n.Html+="</label>"}return n}(t,u,g,_,n);break;case"checkbox":l=function(e,t,a,s,i){var n={FieldCont:"field",FieldAttrs:[],FieldClassList:t,WidthFill:!1,Html:"",FieldContClassList:[],LabelContClassList:[],PairContClassList:[],FieldsetAttrs:[]},r=[],l=de(s,i);n.FieldAttrs.push(ue("type","checkbox")),p.title in e&&n.FieldsetAttrs.push(ue(b.Title,e[p.title]));p.autofocus in e&&n.FieldAttrs.push(b.AutoFocus);p.field_value in e&&(r=e[p.field_value].split(A.Checkbox_Value));n.FieldContClassList.push(m.Field+"_checkbox");var o=p.disabled in e&&"true"===e[p.disabled],d=[f.AddClass,f.AddDataAttrs,f.WidthFillWrap];n=ee(d,a,n);var u=i.InlineOptions;p.inline in e&&(u="true"===e[p.inline]);var c=i.OptionLabelPosition;p.option_label_position in e&&(c=e[p.option_label_position]);var h=[];if(p.options in e)"string"==typeof(h=e[p.options])&&(h in i.CustomInputOptions?h=i.CustomInputOptions[h](E(i).Values,i):h in i.PreDefindedOptionsNoEmptyDict&&(h=i.PreDefindedOptionsNoEmptyDict[h]));else if(p.options_predefined in e){var v=e[p.options_predefined];v in i.CustomInputOptions?h=i.CustomInputOptions[v](E(i).Values,i):v in i.PreDefindedOptionsNoEmptyDict&&(h=i.PreDefindedOptionsNoEmptyDict[v])}for(var g=0;g<h.length;g++){var F=h[g],C=[],_={above:"",right:"",below:"",left:""};_[c]="<span>"+F[p.label]+"</span>",C.push(m.CheckboxLabel),C.push(m.CheckboxLabel+"_"+c);var y=n.FieldAttrs.slice(0),k=s.slice(0),L=s.slice(0);k.push(g),L.push(g);var D={};p.mods in F&&(D=pe(F[p.mods])),f.AddClass in D&&p.param in D[f.AddClass]&&C.push(D[f.AddClass][p.param]),f.AddDataAttrs in D&&p.params in D[f.AddDataAttrs]&&(y=y.concat(me(D[f.AddDataAttrs][p.params]))),u?C.push(m.InlineOpt):C.push(m.BlockOpt);var w=s.slice(1),I=w.length>1?w[w.length-2]+"_"+e[p.key]:e[p.key];y.push(ce(b.DATA_FormKeys,L)),y.push(ce(b.DATA_FieldName,e[p.key])),y.push(ue("id",l+"_"+parseInt(g+1))),y.push(ue("name",I)),y.push(ue("value",F[p.value]));var T=o;p.disabled in F&&(T="true"===F[p.disabled]),T&&y.push(b.Disabled),i.UseHtml5Required&&f.Req in D&&y.push(b.Required),-1!==r.indexOf(F[p.value])&&y.push(b.Checked),n.Html+="<label "+ue("class",C.join(" "))+">",n.Html+=_.left+_.above+te("input",i,n.FieldClassList.slice(0),y,n.WidthFill)+_.right+_.below,n.Html+="</label>"}return n}(t,u,g,_,n);break;case"password":l=function(e,t,a,s,i){var n={FieldCont:"field",FieldAttrs:[],FieldClassList:t,WidthFill:!0,Html:"",FieldContClassList:[],LabelContClassList:[],PairContClassList:[]};n.FieldAttrs.push(ue("id",de(s,i))),n.FieldAttrs.push(ue("name",e[p.key])),n.FieldAttrs.push(ce(b.DATA_FieldName,e[p.key])),n.FieldAttrs.push(ue("type","password")),n.FieldAttrs.push(ce(b.DATA_FormKeys,s)),p.title in e&&n.FieldAttrs.push(ue(b.Title,e[p.title]));p.disabled in e&&"true"===e[p.disabled]&&n.FieldAttrs.push(b.Disabled);p.autofocus in e&&n.FieldAttrs.push(b.AutoFocus);p.autocomplete in e&&n.FieldAttrs.push(ue(b.AutoComplete,"true"===e[p.autocomplete]?"on":"off"));i.UseHtml5Required&&f.Req in a&&n.FieldAttrs.push(b.Required);i.UseLabelsAsFieldTitles&&p.label in e&&""!==e[p.label]&&n.FieldAttrs.push(ue(b.Title,e[p.label]));p.field_value in e&&n.FieldAttrs.push(ue("value",e[p.field_value]));var r=[f.AddClass,f.AddDataAttrs,f.WidthFillWrap,f.Length,f.AllowChars,f.PreventChars];n=ee(r,a,n);var l=ie(s,a,!0,i);return n.Html+=l.above+l.left+l.right+te("input",i,n.FieldClassList,n.FieldAttrs,n.WidthFill)+l.below,n}(t,u,g,_,n);break;case"hidden":l=function(e,t,a,s,i){var n={FieldCont:"field",FieldAttrs:[],FieldClassList:t,WidthFill:!1,Html:"",FieldContClassList:[],LabelContClassList:[],PairContClassList:[]};n.FieldAttrs.push(ue("id",de(s,i))),n.FieldAttrs.push(ue("name",e[p.key])),n.FieldAttrs.push(ce(b.DATA_FieldName,e[p.key])),n.FieldAttrs.push(ue("type","hidden")),n.FieldAttrs.push(ce(b.DATA_FormKeys,s)),p.field_value in e&&n.FieldAttrs.push(ue("value",e[p.field_value]));var r=[f.AddClass,f.AddDataAttrs,f.WidthFillWrap];return(n=ee(r,a,n)).Html+=te("input",i,n.FieldClassList,n.FieldAttrs,n.WidthFill),n}(t,u,g,_,n),c.push(m.ContainsHiddenField);break;case"number":u.push(m.Field+"_input_number"),l=z(t,u,g,_,n);break;case"date":case"datetime":case"datetime-local":l=$(t,u,g,_,n);break;case"button":l=function(t,a,s,i,n){var r={FieldCont:"field",FieldAttrs:[],FieldClassList:a,WidthFill:!0,Html:"",FieldContClassList:[],LabelContClassList:[],PairContClassList:[]};r.FieldAttrs.push(ue("id",de(i,n))),r.FieldAttrs.push(ue("name",t[p.key])),r.FieldAttrs.push(ce(b.DATA_FieldName,t[p.key])),r.FieldAttrs.push(ue("type","button")),r.FieldAttrs.push(ce(b.DATA_FormKeys,i)),p.title in t&&r.FieldAttrs.push(ue(b.Title,t[p.title]));p.disabled in t&&"true"===t[p.disabled]&&r.FieldAttrs.push(b.Disabled);p.autofocus in t&&r.FieldAttrs.push(b.AutoFocus);n.UseLabelsAsFieldTitles&&p.label in t&&""!==t[p.label]&&r.FieldAttrs.push(ue(b.Title,t[p.label]));p.field_value in t&&r.FieldAttrs.push(ue("value",t[p.field_value]));r.FieldClassList.push(m.Btn);var l=[f.AddClass,f.AddDataAttrs,f.WidthFillWrap];r=ee(l,s,r);var o="",d="",u=n.IconLabelPosition,c="",h="";try{f.ButtonText in s&&(o=s[f.ButtonText][p.param]),f.ButtonIcon in s&&(d=s[f.ButtonIcon][p.param]),f.ButtonIconLabelPosition in s&&(u=s[f.ButtonIconLabelPosition][p.param]),f.ButtonFunction in s&&(c=s[f.ButtonFunction][p.param]),f.ButtonFunctionParam in s&&(h=s[f.ButtonFunctionParam][p.param])}catch(t){e.console&&console.log("JFS Error: Error parsing button field modifiers.",i,t)}var v="",A="";""!==o&&r.FieldClassList.push(m.Btn+"_label_"+u);""!==d&&(A="<img src='"+d+"' "+ue("alt","Icon: "+(""===o?"Button":o))+"/>",r.FieldClassList.push(m.Btn+"_icon"));v="left"===u?o+A:A+o;return r.FieldAttrs.push(ce(b.DATA_BtnFunct,c)),r.FieldAttrs.push(ce(b.DATA_BtnFunctParam,h)),r.FieldAttrs.push(ce(b.DATA_FormKeys,i)),r.Html+=te("button",n,r.FieldClassList,r.FieldAttrs,r.WidthFill,v),r}(t,u,g,_,n);break;case"html":l=function(e,t){var a="";p.field_value in e&&(a=e[p.field_value]);return{FieldCont:"field",FieldContClassList:[],LabelContClassList:[],PairContClassList:[],Html:a}}(t),c.push(m.ContainsHtmlField);break;case"repeatablegroup":l={FieldCont:"group",FieldAttrs:[],FieldClassList:u,WidthFill:!0,Html:Q(t,_,!0,n),FieldContClassList:[],LabelContClassList:[],PairContClassList:[m.ContainsGroup]},v.push(ce(b.DATA_FormKeys,_)),l=ee([],g,l);break;default:-1!==o.indexOf(t[p.type])?l=function(t,a,s,i,n,r,l){var o={FieldCont:"field",FieldAttrs:[],FieldClassList:i,WidthFill:!0,Html:"",FieldContClassList:[],LabelContClassList:[],PairContClassList:[]};o.FieldAttrs.push(ue("id",de(r,l))),o.FieldAttrs.push(ue("name",s[p.key])),o.FieldAttrs.push(ce(b.DATA_FieldName,s[p.key])),o.FieldAttrs.push(ue("type",t)),o.FieldAttrs.push(ce(b.DATA_FormKeys,r)),p.title in s&&o.FieldAttrs.push(ue(b.Title,s[p.title]));p.disabled in s&&"true"===s[p.disabled]&&o.FieldAttrs.push(b.Disabled);p.placeholder in s&&o.FieldAttrs.push(ue(b.PlaceHolder,s[p.placeholder]));p.autofocus in s&&o.FieldAttrs.push(b.AutoFocus);p.autocomplete in s&&o.FieldAttrs.push(ue(b.AutoComplete,"true"===s[p.autocomplete]?"on":"off"));l.UseHtml5Required&&f.Req in n&&o.FieldAttrs.push(b.Required);l.UseLabelsAsFieldTitles&&p.label in s&&""!==s[p.label]&&o.FieldAttrs.push(ue(b.Title,s[p.label]));p.field_value in s&&o.FieldAttrs.push(ue("value",s[p.field_value]));var d=[f.AddClass,f.AddDataAttrs,f.WidthFillWrap];if(o=ee(d,n,o),f.Min in n)try{o.FieldAttrs.push(ue("min",n[f.Min][p.param]))}catch(t){e.console&&console.log("JFS Error: Error parsing minimum modifier.",r,t)}if(f.Max in n)try{o.FieldAttrs.push(ue("max",n[f.Max][p.param]))}catch(t){e.console&&console.log("JFS Error: Error parsing maximum modifier.",r,t)}o.FieldClassList.push(m.Field+"_input_"+t);var u=ie(r,n,a,l);return o.Html+=u.above+u.left+u.right+te("input",l,o.FieldClassList,o.FieldAttrs,o.WidthFill)+u.below,o}(t[p.type],!0,t,u,g,_,n):d=!1}p.show in t&&"false"===t[p.show]&&c.push(m.Unshown);var y="";if(d){var k={above:"",right:"",below:"",left:""};k[C]=function(t,a,s,i,n,r){var l="";if(p.label in t){var o="";if(f.InfoBub in i)try{var d=fe(i[f.InfoBub][p.params]),u="icon"in d?d.icon:r.InfoBubbleIcon;""!==u&&(o='<span class="'+m.InfoBub+'">',o+='<img class="'+m.InfoBub+'" src="'+u+'" alt="Additional Info Icon" />',o+="<span>"+d.html+"</span>",o+="</span>")}catch(t){e.console&&console.log("JFS Error: Error parsing info bubble modifier.",n,t)}var c=r.LabelSuffix;if(f.LabelSuffix in i)try{c=i[f.LabelSuffix][p.param]}catch(t){e.console&&console.log("JFS Error: Error parsing label suffix modifier.",n,t)}var h=t[p.label]+c,b=jQuery("<div/>").html(t[p.label]).text();if(""!==a){s.push(m.Req);var v=r.LabelRequiredPrepend;if(f.ReqPrepend in i)try{v="true"===i[f.ReqPrepend][p.param]}catch(t){e.console&&console.log("JFS Error: Error parsing lable required prepend modifier.",n,t)}v?(h=a+h,b=a+b):(h+=a,b+=a)}h+=o,h="radio"===t[p.type]||"checkbox"===t[p.type]?"<legend>"+h+"</legend>":"repeatablegroup"===t[p.type]?"<p>"+h+"</p>":'<label for="'+de(n,r)+'">'+h+"</label>",l=J("label",t,0,s,[],[],h,r)}return l}(t,F,h.concat(l.LabelContClassList),g,_,n),f.CharCounter in g&&(l.Html+='<span class="'+m.CharCounterText+'">0 characters</span>'),f.WordCounter in g&&(l.Html+='<span class="'+m.WordCounterText+'">0 words</span>'),y+=k.above+k.left+k.right,y+=J(l.FieldCont,t,0,u.concat(l.FieldContClassList),v,[],l.Html,n),y+=k.below,c=c.concat(l.PairContClassList)}else y="<p style='color: red; text-align: center;'>OH, SNAP! The field type, \""+t[p.type]+'" was not found so this field cannot be rendered.</p>';var L=[];"FieldsetAttrs"in l&&(L=l.FieldsetAttrs),r=J("pair",t,0,c,[],L,y,n)}return r}function X(e){var t={above:"",below:"",label_above:"",label_below:"",field_above:"",field_below:""};if(f.AugmentHtml in e&&p.params in e[f.AugmentHtml])for(var a=e[f.AugmentHtml][p.params],s=0;s<a.length;s++)if(p.key in a[s]&&p.param in a[s])switch(a[s][p.key]){case"html_above":t.above=a[s][p.param];break;case"html_below":t.below=a[s][p.param];break;case"html_label_above":t.label_above=a[s][p.param];break;case"html_label_below":t.label_below=a[s][p.param];break;case"html_field_above":t.field_above=a[s][p.param];break;case"html_field_below":t.field_below=a[s][p.param]}return t}function Z(t,a,s){var i={above:"",below:""};if(p.control_btns in t)for(var n=t[p.control_btns],r=0;r<n.length;r++)try{if(p.key in n[r]){var l=n[r],o=l[p.key],d="above",c="",h="",f="",v=s.IconLabelPosition,A="append",g="add"===o;if(a){if(!g)continue}else if(g)continue;if(o in s.RepeatableGroupIcons&&(f=s.RepeatableGroupIcons[o]),p.params in l)for(var F=l[p.params],C=0;C<F.length;C++){var _=F[C][p.param];switch(F[C][p.key]){case"add_location":A=_;break;case"btn_position":d=_;break;case"label":c=_;break;case"title":h=_;break;case"icon":f=_;break;case"icon_label_position":v=_}}if(""===h)switch(o){case"add":h="Add";break;case"remove":h="Remove";break;case"up":h="Move Up";break;case"down":h="Move Down";break;case"drag":h="Drag to Reposition";break;default:h="Button"}var y=[];y.push(m.RepGrpBtn),y.push(m.RepGrpBtn+"_"+o);var k=[];k.push(ue("title",h)),g&&k.push(ce(b.DATA_RepGrpBtnAddLoc,A));var L="",D="";""!==c&&y.push(m.RepGrpBtn+"_label_"+v),""!==f&&(D="<img src='"+f+"' "+ue("alt","Icon: "+h)+"/>",y.push(m.RepGrpBtn+"_icon")),L="left"===v?c+D:D+c,k.push(ue("class",y.join(" "))),"drag"===o&&void 0!==jQuery.ui&&(s.Interface=u[0])?i[d]+="<span "+k.join(" ")+">"+L+"</span>":(k.push(ue("type","button")),i[d]+="<button "+k.join(" ")+">"+L+"</button>")}}catch(a){e.console&&console.log("JFS Error: Error parsing repeatable group buttons.",t,a)}return i}function z(e,t,a,s,i){var n={FieldCont:"field",FieldAttrs:[],FieldClassList:t,WidthFill:!0,Html:"",FieldContClassList:[],LabelContClassList:[],PairContClassList:[]};n.FieldAttrs.push(ue("id",de(s,i))),n.FieldAttrs.push(ue("name",e[p.key])),n.FieldAttrs.push(ce(b.DATA_FieldName,e[p.key])),n.FieldAttrs.push(ue("type","text")),n.FieldAttrs.push(ce(b.DATA_FormKeys,s)),p.title in e&&n.FieldAttrs.push(ue(b.Title,e[p.title])),p.disabled in e&&"true"===e[p.disabled]&&n.FieldAttrs.push(b.Disabled),p.placeholder in e&&n.FieldAttrs.push(ue(b.PlaceHolder,e[p.placeholder])),p.autofocus in e&&n.FieldAttrs.push(b.AutoFocus),p.autocomplete in e&&n.FieldAttrs.push(ue(b.AutoComplete,"true"===e[p.autocomplete]?"on":"off")),i.UseHtml5Required&&f.Req in a&&n.FieldAttrs.push(b.Required),p.field_value in e&&n.FieldAttrs.push(ue("value",e[p.field_value])),n=ee([f.AddClass,f.AddDataAttrs,f.WidthFillWrap,f.Length,f.AllowChars,f.PreventChars,f.CharCounter,f.WordCounter],a,n);var r=ie(s,a,!0,i);return n.Html+=r.above+r.left+r.right+te("input",i,n.FieldClassList,n.FieldAttrs,n.WidthFill)+r.below,n}function $(e,t,a,s,i){var n={FieldCont:"field",FieldAttrs:[],FieldClassList:t,WidthFill:!0,Html:"",FieldContClassList:[],LabelContClassList:[],PairContClassList:[]};switch(n.FieldAttrs.push(ue("id",de(s,i))),n.FieldAttrs.push(ue("name",e[p.key])),n.FieldAttrs.push(ce(b.DATA_FieldName,e[p.key])),n.FieldAttrs.push(ue("type","text")),n.FieldAttrs.push(ce(b.DATA_FormKeys,s)),p.title in e&&n.FieldAttrs.push(ue(b.Title,e[p.title])),p.disabled in e&&"true"===e[p.disabled]&&n.FieldAttrs.push(b.Disabled),p.placeholder in e&&n.FieldAttrs.push(ue(b.PlaceHolder,e[p.placeholder])),p.autofocus in e&&n.FieldAttrs.push(b.AutoFocus),i.UseHtml5Required&&f.Req in a&&n.FieldAttrs.push(b.Required),i.UseLabelsAsFieldTitles&&p.label in e&&""!==e[p.label]&&n.FieldAttrs.push(ue(b.Title,e[p.label])),p.field_value in e&&n.FieldAttrs.push(ue("value",e[p.field_value])),n=ee([f.AddClass,f.AddDataAttrs,f.WidthFillWrap],a,n),e[p.type]){case"date":n.FieldClassList.push(m.Date);break;case"datetime":n.FieldClassList.push(m.DateTime);break;case"datetime-local":n.FieldClassList.push(m.DateTimeLocal)}var r={};return jQuery.each(a,function(e,t){var a=t[p.param];p.type in t&&("int"===t[p.type]&&(a=parseInt(a)),"bool"===t[p.type]&&(a="true"===a.toLowerCase())),r[e]=a}),n.FieldAttrs.push(ce(b.DATA_DTPicker,r)),n.Html+=te("input",i,n.FieldClassList,n.FieldAttrs,n.WidthFill),n}function ee(t,a,s){if(-1!==t.indexOf(f.AddClass)&&f.AddClass in a&&p.param in a[f.AddClass]&&s.FieldClassList.push(a[f.AddClass][p.param]),-1!==t.indexOf(f.AddDataAttrs)&&f.AddDataAttrs in a&&p.params in a[f.AddDataAttrs]&&(s.FieldAttrs=s.FieldAttrs.concat(me(a[f.AddDataAttrs][p.params]))),-1!==t.indexOf(f.Length)&&f.Length in a)try{var i=fe(a[f.Length][p.params]);if(f.Min in i)try{s.FieldAttrs.push(ce(b.DATA_MinLength,parseInt(i[f.Min])))}catch(t){e.console&&console.log("JFS Error: Error parsing min length status modifier.",a,t)}if(f.Max in i)try{s.FieldAttrs.push(ue(b.MaxLength,i[f.Max]))}catch(t){e.console&&console.log("JFS Error: Error parsing max length status modifier.",a,t)}if(f.Status in i)try{var n=""!==i[f.Status]?i[f.Status]:"always";s.FieldAttrs.push(ce(b.DATA_ShowStatus,n))}catch(t){e.console&&console.log("JFS Error: Error parsing length status modifier.",a,t)}}catch(t){e.console&&console.log("JFS Error: Error parsing length modifiers.",a,t)}if(-1!==t.indexOf(f.CharCounter)&&f.CharCounter in a&&(s.FieldClassList.push(m.CharCounter),s.FieldContClassList.push(m.CharCounter)),-1!==t.indexOf(f.WordCounter)&&f.WordCounter in a&&(s.FieldClassList.push(m.WordCounter),s.FieldContClassList.push(m.WordCounter)),-1!==t.indexOf(f.WidthFillWrap)&&f.WidthFillWrap in a)try{s.WidthFill="true"===a[f.WidthFillWrap][p.param]}catch(t){e.console&&console.log("JFS Error: Error parsing width fill wrap modifier.",a,t)}if(-1!==t.indexOf(f.AllowChars)&&f.AllowChars in a)try{s.FieldAttrs.push(ce(b.DATA_AllowChars,a[f.AllowChars][p.param]))}catch(t){e.console&&console.log("JFS Error: Error parsing allow chars modifier.",a,t)}if(-1!==t.indexOf(f.PreventChars)&&f.PreventChars in a)try{s.FieldAttrs.push(ce(b.DATA_PreventChars,a[f.PreventChars][p.param]))}catch(t){e.console&&console.log("JFS Error: Error parsing prevent chars modifier.",a,t)}return s}function te(e,t,a,s,i,n){var r="";return a.push(m.Field+"_"+e),s.push(ue("class",a.join(" "))),t.AddZeroedTabIndexes&&s.push(ue("tabindex","0")),"input"===e?r="<input "+s.join(" ")+"/>":"textarea"===e?r="<textarea "+s.join(" ")+">"+String(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</textarea>":"select"===e?r="<select "+s.join(" ")+">"+n+"</select>":"button"===e&&(r="<button "+s.join(" ")+">"+n+"</button>"),i&&(r=function(e){return'<span class="'+m.FieldWrap+'">'+e+"</span>"}(r)),r}function ae(e,t){for(var a="",s=0;s<e.length;s++)if(p.key in e[s]){if(p.options in e[s]){var i=e[s][p.options];a+="<optgroup "+ue("label",e[s][p.key])+">";for(var n=0;n<i.length;n++)a+=se(i[n],t);a+="</optgroup>"}}else a+=se(e[s],t);return a}function se(t,a){var s="";try{var i={};p.mods in t&&(i=pe(t[p.mods]));var n=[];n.push(ue("value",t[p.value])),p.disabled in t&&"true"===t[p.disabled]&&n.push(b.Disabled),t[p.value]===a&&n.push(b.Selected),f.AddClass in i&&p.param in i[f.AddClass]&&n.push(ue("class",i[f.AddClass][p.param])),f.AddDataAttrs in i&&p.params in i[f.AddDataAttrs]&&(n=n.concat(me(i[f.AddDataAttrs][p.params]))),s+="<option "+n.join(" ")+">"+t[p.label]+"</option>"}catch(a){e.console&&console.log("JFS Error: Error parsing select option modifiers.",t,a)}return s}function ie(t,a,s,i){var n={above:"",right:"",below:"",left:""};if(s&&f.AugmentBtns in a)try{for(var r=a[f.AugmentBtns][p.field_btns],l=0;l<r.length;l++){var o=fe(r[l][p.params]),d=f.ButtonPosition in o?o[f.ButtonPosition]:i.FieldButtonPosition,u=f.ButtonText in o?o[f.ButtonText]:"",c=f.ButtonTitle in o?o[f.ButtonTitle]:"",h=f.ButtonIconLabelPosition in o?o[f.ButtonIconLabelPosition]:i.IconLabelPosition,v=f.ButtonFunction in o?o[f.ButtonFunction]:"",A=[m.AugmentBtn,m.AugmentBtn+"_"+d];""===c&&(c=""!==u?u:"Button");var g="",F="";""!==u&&A.push(m.AugmentBtn+"_label_"+h),"btn_icon"in o&&(F="<img src='"+o.btn_icon+"' "+ue("alt","Icon: "+c)+"/>",A.push(m.AugmentBtn+"_icon")),g="left"===h?u+F:F+u;var C=[];C.push(ue("type","button")),C.push(ue("class",A.join(" "))),C.push(ue("title",c)),C.push(ce(b.DATA_BtnFunct,v)),C.push(ce(b.DATA_FormKeys,t)),n[d]+="<button "+C.join(" ")+">"+g+"</button>"}}catch(t){e.console&&console.log("JFS Error: Error parsing augment buttons modifiers.",a,t)}return n}function ne(e){var t=[];return e.children().each(function(e,a){var s=jQuery(a);a.nodeName===p.item&&(s.children().length>0?t.push(re(s)):t.push(s.text()))}),t}function re(e){var t={};return e.children().each(function(e,a){var s=jQuery(a),i=a.nodeName;i in p&&(i=p[i]),s.children().length>0?t[i]=ne(s):t[i]=s.text()}),t}function le(e,t,a,s){var i={};jQuery.each(t,function(e,t){!function e(t,a,s){"string"==typeof a?s[t]=a:jQuery.each(a,function(a,i){var n=t+"/"+a;"string"==typeof i?s[n]=i:(s[n]=!0,e(n,i,s))})}(e,t,i)});for(var n=0;n<e.length;n++){var r=e[n],l=p.key in r?r[p.key]:"";oe(l,l,a,r[p.fields],i,s)}}function oe(e,t,a,s,i,n){for(var l=0;l<s.length;l++){var o=s[l],d=""!==e?e+"/"+o[p.key]:"0/"+o[p.key];if(p.field_sets in o)if(d+"/0"in i)for(var u=0;u<r;u++){var c=d+"/"+u;if(c in i){var h=a+t+"/"+o[p.key];o[p.field_sets][u]=Ce(n.RepeatableGroups.Adds[h]),o[p.field_sets][u][p.key]=u+"",oe(c,h,a,o[p.field_sets][u][p.fields],i,n)}}else o[p.field_sets]=[];else d in i&&(o[p.field_value]=i[d])}}function de(e,t){return t.ContainerId+"_"+e.join("_")}function ue(e,t){return e+'="'+String(t).replace(/&/g,"&amp;").replace(/'/g,"&apos;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r\n/g,"&#13;").replace(/[\r\n]/g,"&#13;")+'"'}function ce(e,t){return"data-"+e+"='"+("string"==typeof t?t:JSON.stringify(t))+"'"}function pe(e){for(var t={},a=0;a<e.length;a++)t[e[a][p.key]]=e[a];return t}function he(e,t){for(var a=pe(e),s=0;s<t.length;s++)if(p.key in t[s]){var i=t[s][p.key];if(i in a){var n=t[s][p.param];i===f.AddClass&&(n=a[i][p.param].split(" ").concat(n.split(" ")).join(" "));for(var r=0;r<e.length;r++)e[r][p.key]===i&&(e[r][p.param]=n)}else e.push(t[s])}return e}function fe(e){for(var t={},a=0;a<e.length;a++){var s=p.param in e[a]?e[a][p.param]:"";t[e[a][p.key]]=s}return t}function me(e){for(var t=[],a=0;a<e.length;a++){var s=p.param in e[a]?e[a][p.param]:"";t.push(ce(e[a][p.key],s))}return t}function be(e,t,a){e+="";var s="";a&&(e=e.replace(/ /g,"_"));for(var i=0;i<e.length;i++)-1!==t.toString().indexOf(e.charAt(i))&&(s+=e.charAt(i));return s}function ve(e){var t=e.parent().parent().find("span."+m.CharCounterText).eq(0),a=e.val().length;t.text(a+" character"+(1===a?"":"s"))}function Ae(e){var t=e.parent().parent().find("span."+m.WordCounterText).eq(0),a=e.val().match(/\S+/g),s=a&&a.length||0;t.text(s+" word"+(1===s?"":"s"))}function ge(e,t,a,s){var i=[];s&&""!==a&&i.push({l:a,v:""});for(var n=0;n<e.length;n++)i.push({l:e[n],v:t[n]});return i}function Fe(e,t){return new Array(t-(e+"").length+1).join("0")+e}function Ce(e){return JSON.parse(JSON.stringify(e))}function _e(e){for(var t=new Date,a=[],s=0;s<10;s++)a[s]=parseInt(t.getUTCFullYear()+s)+"";for(var i=[],n=0;n<31;n++)i[n]=Fe(n+1,2)+"";for(var r=[],l=0;l<12;l++)r[l]=Fe(l+1,2)+"";for(var o=[],d=0;d<60;d++)o[d]=Fe(d,2)+"";for(var u=[],c=0;c<60;c++)u[c]=Fe(c,2)+"";var p=["Ms","Miss","Mrs","Mr","Dr","Prof","Coach","Pres","Atty","Rev","Hon"],h=["Female","Male"],f=["Single","Married","Separated","Divorced","Widowed","Other"],m=["AK (Alaska)","AL (Alabama)","AR (Arkansas)","AZ (Arizona)","CA (California)","CO (Colorado)","CT (Connecticut)","DC (Dist. of Columbia)","DE (Delaware)","FL (Florida)","GA (Georgia)","HI (Hawaii)","IA (Iowa)","ID (Idaho)","IL (Illinois)","IN (Indiana)","KS (Kansas)","KY (Kentucky)","LA (Louisiana)","MA (Massachusetts)","MD (Maryland)","ME (Maine)","MI (Michigan)","MN (Minnesota)","MO (Missouri)","MS (Mississippi)","MT (Montana)","NC (North Carolina)","ND (North Dakota)","NE (Nebraska)","NH (New Hampshire)","NJ (New Jersey)","NM (New Mexico)","NV (Nevada)","NY (New York)","OH (Ohio)","OK (Oklahoma)","OR (Oregon)","PA (Pennsylvania)","RI (Rhode Island)","SC (South Carolina)","SD (South Dakota)","TN (Tennessee)","TX (Texas)","UT (Utah)","VA (Virginia)","VT (Vermont)","WA (Washington)","WI (Wisconsin)","WV (West Virginia)","WY (Wyoming)"],b=["AK","AL","AR","AZ","CA","CO","CT","DC","DE","FL","GA","HI","IA","ID","IL","IN","KS","KY","LA","MA","MD","ME","MI","MN","MO","MS","MT","NC","ND","NE","NH","NJ","NM","NV","NY","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VA","VT","WA","WI","WV","WY"],v=["AS (American Samoa)","GU (Guam)","MP (Northern Mariana Islands)","PR (Puerto Rico)","VI (Virgin Islands)","AA (Armed Forces - Americas excluding Canada)","AE (Armed Forces - Europe, Canada, Middle East, Africa)","AP (Armed Forces - Pacific)"],A=["AS","GU","MP","PR","VI","AA","AE","AP"],g=["AB (Alberta)","BC (British Columbia)","MB (Manitoba)","NB (New Brunswick)","NL (Newfoundland and Labrador)","NT (Northwest Territories)","NS (Nova Scotia)","NU (Nunavut)","ON (Ontario)","PE (Prince Edward Island)","QC (Quebec)","SK (Saskatchewan)","YT (Yukon)"],F=["AB","BC","MB","NB","NL","NT","NS","NU","ON","PE","QC","SK","YT"];return{name_prefix:ge(p,p,"Select...",e),gender:ge(h,h,"Select...",e),marital_status:ge(f,f,"Select...",e),current_year_plus_10:ge(a,a,"",e),numeric_months_and_names:ge(["01 - January","02 - February","03 - March","04 - April","05 - May","06 - June","07 - July","08 - August","09 - September","10 - October","11 - November","12 - December"],["0","1","2","3","4","5","6","7","8","9","10","11"],"",e),numeric_days:ge(i,i,"",e),hours_12:ge(r,r,"",e),minutes:ge(o,o,"",e),seconds:ge(u,u,"",e),link_targets:ge(["Current Window","New Window"],["_self","_blank"],"",e),yes_no:ge(["Yes","No"],["yes","no"],"",e),no_yes:ge(["No","Yes"],["no","yes"],"",e),us_states:ge(m,b,"Select a State...",e),us_territories:ge(v,A,"Select a Territory...",e),canada_provinces:ge(g,F,"Select a State...",e),us_states_and_territories_and_canada:ge(["Outside U.S./Canada"],["OUTSIDE"],"Select a State...",e).concat({k:"US",os:ge(m,b,"").concat(ge(v,A,"",e))}).concat({k:"Canada",os:ge(g,F,"",e)})}}e.JFS=L}(window);
